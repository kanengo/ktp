syntax = "proto3";

package testpb;

option go_package = "github.com/kanengo/ktp/transport/hertz/testdata;testpb";

import "google/api/annotations.proto";

// 测试服务
service TestService {
  // 简单的 RPC 调用
  rpc SayHello(HelloRequest) returns (HelloResponse) {
    option (google.api.http) = {
      post: "/v1/hello"
      body: "*"
    };
  }
  
  // 获取用户信息
  rpc GetUser(GetUserRequest) returns (GetUserResponse) {
    option (google.api.http) = {
      get: "/v1/users/{user_id}"
    };
  }
  
  // 创建用户
  rpc CreateUser(CreateUserRequest) returns (CreateUserResponse) {
    option (google.api.http) = {
      post: "/v1/users"
      body: "*"
    };
  }
}

// Hello 请求
message HelloRequest {
  string name = 1;
  int32 age = 2;
}

// Hello 响应
message HelloResponse {
  string message = 1;
  int64 timestamp = 2;
}

// 获取用户请求
message GetUserRequest {
  string user_id = 1;
}

// 获取用户响应
message GetUserResponse {
  string user_id = 1;
  string name = 2;
  string email = 3;
  int32 age = 4;
}

// 创建用户请求
message CreateUserRequest {
  string name = 1;
  string email = 2;
  int32 age = 3;
}

// 创建用户响应
message CreateUserResponse {
  string user_id = 1;
  string message = 2;
}